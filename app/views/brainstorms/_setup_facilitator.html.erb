<div class="md:p-4 lg:p-0 flex-col flex w-full mx-auto lg:max-w-screen-lg">
  <div id="problem_area" class="flex flex-col">
    <%= render 'problem' %>
  </div>
  <div class="bg-white mt-8 my-shadow-lg flex flex-col p-8">
    <p class="md:mt-8 lg:mt-0 italic text-blurple text-6xl lg:text-2xl font-semibold">What to do now?</p>
    <div class="flex lg:flex-row flex-col justify-between px-12 mt-8">
      <div class="lg:block md:flex md:justify-around md:mt-16 lg:mt-0 md:items-center">
        <div class="lg:h-28 lg:w-28 md:h-56 md:w-56 bg-blurple flex justify-center items-center">
          <svg class="md:h-36 md:w-36 md:-ml-36 lg:h-16 lg:w-16 lg:-ml-16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="64px" height="64px" viewBox="0 0 64 64" version="1.1">
            <title>DD1585E9-7086-4558-8838-49E4B06D290D</title>
            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
              <g id="Work---Not-started-(Facilitator)" transform="translate(-405.000000, -494.000000)">
                <g id="Group-9" transform="translate(387.000000, 476.000000)">
                  <g id="headset_mic-24px" transform="translate(18.000000, 18.000000)">
                    <polygon id="Path" opacity="0.1" points="0 0 64 0 64 64 0 64" />
                    <path d="M32,2.66666667 C18.7466667,2.66666667 8,13.4133333 8,26.6666667 L8,45.3333333 C8,49.76 11.5733333,53.3333333 16,53.3333333 L24,53.3333333 L24,32 L13.3333333,32 L13.3333333,26.6666667 C13.3333333,16.3466667 21.68,8 32,8 C42.32,8 50.6666667,16.3466667 50.6666667,26.6666667 L50.6666667,32 L40,32 L40,53.3333333 L50.6666667,53.3333333 L50.6666667,56 L32,56 L32,61.3333333 L48,61.3333333 C52.4266667,61.3333333 56,57.76 56,53.3333333 L56,26.6666667 C56,13.4133333 45.2533333,2.66666667 32,2.66666667 Z" id="Path" fill="#FFFFFF" fill-rule="nonzero" />
                  </g>
                </g>
              </g>
            </g>
          </svg>
          <div class="md:h-20 md:w-20 lg:h-12 lg:w-12 bg-black text-white font-bold lg:text-2xl md:text-4xl border-4 border-white relative lg:-ml-28 lg:-mt-28 md:-ml-56 md:-mt-48">
            <div class="flex justify-center items-center h-full">1</div>
          </div>
        </div>
        <div class="lg:hidden text-blurple italic font-semibold text-5xl text-center w-3/4">
          <p>Call up everyone</p>
        </div>
        <div class="hidden mt-4 lg:block text-blurple italic text-xl font-semibold text-center">
          <p>Call up</p>
          <p>everyone</p>
        </div>
      </div>
      <div class="lg:block md:flex md:justify-around md:mt-28 lg:mt-0 md:items-center">
        <div class="lg:h-28 lg:w-28 md:h-56 md:w-56 bg-blurple flex justify-center items-center">
          <svg class="md:h-36 md:w-36 md:-ml-36 lg:h-16 lg:w-16 lg:-ml-16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="64px" height="64px" viewBox="0 0 64 64" version="1.1">
            <title>E72A79E2-B1C5-42FB-B270-73758F1A9EEC</title>
            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
              <g id="Work---Not-started-(Facilitator)" transform="translate(-688.000000, -494.000000)">
                <g id="Group-10" transform="translate(670.000000, 476.000000)">
                  <g id="share-24px" transform="translate(18.000000, 18.000000)">
                    <polygon id="Path" points="0 0 64 0 64 64 0 64" />
                    <path d="M48,42.88 C45.9733333,42.88 44.16,43.68 42.7733333,44.9333333 L23.76,33.8666667 C23.8933333,33.2533333 24,32.64 24,32 C24,31.36 23.8933333,30.7466667 23.76,30.1333333 L42.56,19.1733333 C44,20.5066667 45.8933333,21.3333333 48,21.3333333 C52.4266667,21.3333333 56,17.76 56,13.3333333 C56,8.90666667 52.4266667,5.33333333 48,5.33333333 C43.5733333,5.33333333 40,8.90666667 40,13.3333333 C40,13.9733333 40.1066667,14.5866667 40.24,15.2 L21.44,26.16 C20,24.8266667 18.1066667,24 16,24 C11.5733333,24 8,27.5733333 8,32 C8,36.4266667 11.5733333,40 16,40 C18.1066667,40 20,39.1733333 21.44,37.84 L40.4266667,48.9333333 C40.2933333,49.4933333 40.2133333,50.08 40.2133333,50.6666667 C40.2133333,54.96 43.7066667,58.4533333 48,58.4533333 C52.2933333,58.4533333 55.7866667,54.96 55.7866667,50.6666667 C55.7866667,46.3733333 52.2933333,42.88 48,42.88 Z" id="Path" fill="#FFFFFF" fill-rule="nonzero" />
                  </g>
                </g>
              </g>
            </g>
          </svg>
          <div class="md:h-20 md:w-20 lg:h-12 lg:w-12 bg-black text-white font-bold lg:text-2xl md:text-4xl border-4 border-white relative lg:-ml-28 lg:-mt-28 md:-ml-56 md:-mt-48">
            <div class="flex justify-center items-center h-full">2</div>
          </div>
        </div>
        <div class="lg:hidden text-blurple italic font-semibold text-5xl text-center w-3/4">
          <p>Share link</p>
        </div>
        <div class="hidden mt-4 lg:block text-blurple italic text-xl font-semibold text-center">
          <p>Share</p>
          <p>link</p>
        </div>
      </div>
      <div class="lg:block md:flex md:justify-around md:mt-28 lg:mt-0 md:mb-16 lg:md-0 md:items-center">
        <div class="lg:h-28 lg:w-28 md:h-56 md:w-56 bg-blurple flex justify-center items-center">
          <svg class="md:h-36 md:w-36 md:-ml-36 lg:h-16 lg:w-16 lg:-ml-16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="64px" height="64px" viewBox="0 0 64 64" version="1.1">
            <title>19D8AA2F-3FC6-4BB1-9EB0-9F1F96D33015</title>
            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
              <g id="Work---Not-started-(Facilitator)" transform="translate(-972.000000, -494.000000)">
                <g id="chat_bubble-24px" transform="translate(972.000000, 494.000000)">
                  <polygon id="Path" points="0 0 64 0 64 64 0 64" />
                  <path d="M53.3333333,5.33333333 L10.6666667,5.33333333 C7.73333333,5.33333333 5.33333333,7.73333333 5.33333333,10.6666667 L5.33333333,58.6666667 L16,48 L53.3333333,48 C56.2666667,48 58.6666667,45.6 58.6666667,42.6666667 L58.6666667,10.6666667 C58.6666667,7.73333333 56.2666667,5.33333333 53.3333333,5.33333333 Z" id="Path" fill="#FFFFFF" fill-rule="nonzero" />
                </g>
              </g>
            </g>
          </svg>
          <div class="md:h-20 md:w-20 lg:h-12 lg:w-12 bg-black text-white font-bold lg:text-2xl md:text-4xl border-4 border-white relative lg:-ml-28 lg:-mt-28 md:-ml-56 md:-mt-48">
            <div class="flex justify-center items-center h-full">3</div>
          </div>
        </div>
        <div class="lg:hidden text-blurple italic font-semibold text-5xl text-center w-3/4">
          <p>Introduce exercise</p>
        </div>
        <div class="hidden mt-4 lg:block text-blurple italic text-xl font-semibold text-center">
          <p>Introduce</p>
          <p>exercise</p>
        </div>
      </div>
    </div>
  </div>

  <div class="flex lg:flex-row md:flex-col mt-8 w-full ">
    <div class="bg-white lg:py-4 md:py-8 px-8 my-shadow-lg w-full mr-2">
      <div class="tooltip w-full">
        <div onclick="copyAction(getURL())" onmouseout="outFunc()" class="transition duration-200 ease-in-out transform hover:bg-dark-blurple active:bg-darker-blurple md:py-4 lg:py-0 bg-blurple tooltip cursor-pointer w-full">
          <span class="tooltiptext" id="myTooltip">Copy to clipboard</span>
            <div class="flex justify-center items-center">
             <svg class="lg:mr-4 lg:h-8 lg:w-8 md:mr-8 md:h-16 md:w-16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24px" fill="#FFFFFF"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M3.96 11.38C4.24 9.91 5.62 8.9 7.12 8.9h2.93c.52 0 .95-.43.95-.95S10.57 7 10.05 7H7.22c-2.61 0-4.94 1.91-5.19 4.51C1.74 14.49 4.08 17 7 17h3.05c.52 0 .95-.43.95-.95s-.43-.95-.95-.95H7c-1.91 0-3.42-1.74-3.04-3.72zM9 13h6c.55 0 1-.45 1-1s-.45-1-1-1H9c-.55 0-1 .45-1 1s.45 1 1 1zm7.78-6h-2.83c-.52 0-.95.43-.95.95s.43.95.95.95h2.93c1.5 0 2.88 1.01 3.16 2.48.38 1.98-1.13 3.72-3.04 3.72h-3.05c-.52 0-.95.43-.95.95s.43.95.95.95H17c2.92 0 5.26-2.51 4.98-5.49-.25-2.6-2.59-4.51-5.2-4.51z"/></svg>
             <p class=" text-white uppercase md:text-6xl lg:text-xl font-medium py-2 text-center">Share link</p>
            </div>
        </div>
      </div>
    </div>
    <div class="bg-white lg:py-4 md:py-8 px-8 my-shadow-lg w-full lg:ml-2">
      <button class="md:py-4 lg:py-0 transition duration-200 ease-in-out transform bg-greeny w-full hover:bg-dark-greeny active:bg-darker-greeny">
        <%= link_to start_brainstorm_brainstorm_path(@brainstorm.token), remote: true, method: :post do %>
        <div class="flex flex-row items-center justify-center">
          <svg class="lg:mr-4 lg:h-8 lg:w-8 md:mr-8 md:h-16 md:w-16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24px" fill="#FFFFFF"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M15.07 1.01h-6v2h6v-2zm-4 13h2v-6h-2v6zm8.03-6.62l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.14 4.74 14.19 4 12.07 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.11-.74-4.06-1.97-5.61zm-7.03 12.62c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/></svg>
          <p class="text-white uppercase md:text-6xl lg:text-xl font-medium py-2 text-center">Start Brainstorm</p>
        </div>
        <% end %>
      </button>
    </div>
  </div>

  <div id="list-of-participants-container" class="bg-white mt-8 my-shadow-lg flex flex-col p-8">
    <p class="italic text-blurple lg:text-2xl text-6xl font-semibold mb-8">Who's here</p>
    <div id="list-of-participants" class="gap-4 text-white md:text-5xl lg:text-2xl flex flex-row flex-wrap">
    </div>
  </div>

  <div class="bg-white mt-8 my-shadow-lg flex flex-col p-8 lg:justify-between lg:gap-2">
    <div class="flex flex-row items-center">
      <p class="w-full mt-8 lg:mt-0 italic text-blurple text-6xl lg:text-2xl font-semibold lg:mb-0 mb-8">Duration of brainstorm</p>
    </div>
    <% if @access_to_brainstorms_duration %>
      <%= form_with url: brainstorm_timer_duration_path(@brainstorm.token), method: :patch, class: "flex flex-row w-full" do |form| %>
        <%= form.range_field :duration, id: "timerRange", class: "w-full appearance-none slider-thumb", value: 10, min: 5, max: 30, step: 5, onchange: "this.form.submit()" %>
        <div id="timerOutput" class="justify-end w-1/3 flex text-6xl">
          <output class="h-24 flex items-center text-right" id="durationOutput" name="durationOutput">10:00</output>
        </div>
      <% end %>
    <% else %>
    <div class="flex flex-row items-center gap-8">
      <%= link_to pricing_path do %>
        <div class="bg-light-blurple p-8 flex flex-row items-center gap-8">
          <span class="material-icons text-4xl">lock</span>
          <p>You need to upgrade to <span class="underline font-bold">the facilitator plan</span> to set the timer. With the facilitator plan you can also brainstorm with unlimited time.</p>
        </div>
      <% end %>
      <div class="justify-end w-1/3 flex text-6xl">
        <p class="h-24 flex items-center text-right">10:00</p>
      </div>
    </div>
    <% end %>
  </div>

  <div class="bg-white mt-8 my-shadow-lg flex flex-row p-8 lg:justify-between lg:gap-2">
    <div>
      <div class="flex flex-row items-center">
        <p class="w-full my-8 lg:mt-0 italic text-blurple text-6xl lg:text-2xl font-semibold">Settings</p>
      </div>
      <%= form_with url: brainstorm_settings_path(@brainstorm.token), method: :patch do |form| %>
        <div class="flex flex-row items-center lg:gap-4 gap-12 lg:text-base text-3xl">
          <%= form.check_box :anonymous, as: :boolean, checked: @brainstorm.anonymous, onchange: "handleCheckboxChange(this)", class: "w-20 h-20 lg:h-6 lg:w-6 cursor-pointer" %>
          <p class="lg:text-lg md:text-3xl">Keep ideas anonymous</p>
        </div>
      <% end %>
    </div>
    <div class="bg-yellowy w-40 h-40 px-4 justify-between flex flex-col"> 
      <div class="flex flex-col justify-center h-full">
        <p class="font-flow overflow-hidden text-lg text-dark-yellowy leading-none">Lorem ipsum dolor sit amet, consectetur </p>
      </div>
      <p id="checkboxVisualization" class="text-white line-through">Mona Lisa</p>
      <div class="bg-yellowy triangle self-end -mr-4"></div>
    </div>
  </div>

  <div class="flex flex-col bg-light-yellowy justify-between mb-56 mt-12 my-shadow-lg">
    <div class="bg-dots-bigger h-10"></div>
    <div class="px-20 pb-20">
      <p class="lg:text-3xl md:text-6xl italic font-medium py-16">Introduce exercise</p>
      <svg class="lg:h-8 lg:w-8 md:h-12 md:w-12" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" viewBox="0 0 24 24" width="24px" fill="#000000"><g><rect fill="none" height="24" width="24"/><path d="M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M12.01,18 c-0.7,0-1.26-0.56-1.26-1.26c0-0.71,0.56-1.25,1.26-1.25c0.71,0,1.25,0.54,1.25,1.25C13.25,17.43,12.72,18,12.01,18z M15.02,10.6 c-0.76,1.11-1.48,1.46-1.87,2.17c-0.16,0.29-0.22,0.48-0.22,1.41h-1.82c0-0.49-0.08-1.29,0.31-1.98c0.49-0.87,1.42-1.39,1.96-2.16 c0.57-0.81,0.25-2.33-1.37-2.33c-1.06,0-1.58,0.8-1.8,1.48L8.56,8.49C9.01,7.15,10.22,6,11.99,6c1.48,0,2.49,0.67,3.01,1.52 C15.44,8.24,15.7,9.59,15.02,10.6z"/></g></svg>
      <p class="lg:text-2xl md:text-5xl font-medium py-2">Why we do ideation?</p>
      <p class="lg:text-lg md:text-3xl pt-2 pb-16">We ideate to find the best way to solve a problem. When you produce more ideas, your chance of having some really good ideas are bigger. Just be careful to not come up with a bunch of variations on the same idea.</p>
      <svg class="lg:h-8 lg:w-8 md:h-12 md:w-12" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24px" fill="#000000"><path d="M0 0h24v24H0z" fill="none"/><path d="M15 1H9v2h6V1zm-4 13h2V8h-2v6zm8.03-6.61l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/></svg>
      <p class="lg:text-2xl md:text-5xl font-medium py-2">While we do ideation</p>
      <p class="lg:text-lg md:text-3xl pt-2 pb-16">Be positive, encourage wild ideas, build on each others' ideas and don't say no. Even if you come up with something that is impossible, it might be that piece of inspiration that sparks creativity for one of your team mates.</p>
      <svg class="lg:h-8 lg:w-8 md:h-12 md:w-12" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24px" fill="#000000"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-2 14l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"/></svg>
      <p class="lg:text-2xl md:text-5xl font-medium py-2">When we are done with ideation</p>
      <p class="lg:text-lg md:text-3xl py-2">Take the best voted ideas and get practical! Define some action points and talk about who does what to make your ideas become reality!</p>
    </div>
  </div>
</div>
</div>

<script>

handleCheckboxChange = (checkbox) => {
  document.getElementById("checkboxVisualization").classList.toggle("line-through")

  checkbox.form.submit();
}

let timerRange = document.getElementById("timerRange")
let timerOutput = document.getElementById("timerOutput")

timerRange.oninput = function() {
 
  if (this.value > 25) {
    durationOutput.value = "No limit!"
    timerOutput.classList.toggle("text-4xl")
    timerOutput.classList.toggle("text-6xl")
  }
  else {
    if (timerOutput.classList.contains("text-4xl")) {
      timerOutput.classList.toggle("text-4xl")
      timerOutput.classList.toggle("text-6xl")
    }
    durationOutput.value = this.value + ":00"
  }
}
</script>
