<div class="mx-auto px-4 xl:px-0 lg:max-w-screen-lg xl:max-w-screen-xl">
<%= render 'shared/menu' %>
  <div class="flex-col flex bg-blurple p-12 h-full">
    <div class="bg-dots p-12 h-full">
      <%= link_to root_path do %>
        <div class="-ml-28 -mt-12 italic bg-black w-32 h-32 lg:w-16 lg:h-16 text-white text-7xl lg:text-5xl flex font-bold items-center justify-center">
          <span>B</span>
        </div>
      <% end %>
      <div class="hidden lg:block w-1/2 mt-16 mt-56">
        <h1 class="py-4 px-4 lg:p-0 bg-blurple text-white text-7xl lg:text-5xl font-semibold leading-normal lg:leading-normal">EVERYTHING BEGINS WITH AN IDEA
        </h1>
      </div>
      <div class="hidden lg:flex flex-col w-1/3 mt-8 bg-blurple">
        <%= link_to new_brainstorm_path, data: { turbolinks: false } do %>
          <button class="w-full text-lg my-shadow py-4 bg-white focus:outline-none active:bg-blurple-gray hvr-underline-from-left">SETUP BRAINSTORM</button>
        <% end %>
        <%= link_to brainstorms_join_session_path do %>
          <button class="w-full bg-blurple text-lg my-shadow py-4 mt-4 text-white border-solid border-white border-4 focus:outline-none active:bg-dark-blurple hvr-underline-from-left">JOIN SESSION</button>
        <% end %>
      </div>
      <div class="lg:hidden flex flex-col h-full">
        <h1 class="my-32 py-4 px-4 bg-blurple text-white text-7xl font-semibold leading-normal">EVERYTHING BEGINS WITH AN IDEA
        </h1>
        <div class="bg-blurple text-left px-6 py-16 w-full flex flex-row">
          <%= link_to "JOIN SESSION", brainstorms_join_session_path, class: "text-center py-4 w-full my-shadow-lg text-blurple text-6xl font-bold bg-beigy cursor-pointer" %>
        </div>
        <div class="mt-28 flex flex-row w-full items-center bg-blurple px-6">
          <div class="bg-white h-2 w-full"></div>
          <p class="text-white text-5xl font-bold px-8">OR</p>
          <div class="bg-white h-2 w-full"></div>
        </div>
        <div class="my-32 bg-blurple px-6 py-12 flex flex-row">
        <%= link_to "SETUP BRAINSTORM", new_brainstorm_path, class: "text-center py-4 w-full my-shadow-lg text-blurple text-6xl font-bold bg-light-greeny cursor-pointer" %>
        </div>
      </div>
    </div>
  </div>
  <div class="flex justify-between mt-24">
    <div class="flex-col w-full lg:w-1/2 mr-48 ml-24 mb-8">
      <div class="mb-8">
        <span class="material-icons text-7xl bg-greeny rounded-full text-beigy">bolt</span>
      </div>
      <div class="mb-8">
        <h1 class="text-greeny text-7xl lg:text-5xl font-bold leading-tight uppercase">Getting one good idea is hard!</h1>
      </div>
      <div>
        <p class="text-4xl lg:text-base font-bold leading-relaxed">But with enough ideas to solve one specific problem, chances are pretty high that you will find that one perfect idea.<br>
          <br>
          <br>
          <br>
          <br>
          <br>
      </div>
    </div>
    <div id="index-post-it-container" class="hidden lg:flex flex-row w-1/2 flex-wrap gap-2 content-center">
      <div class="lg:hidden bg-greeny w-40 h-40 px-4 justify-between flex flex-col"> 
        <div class="flex flex-col justify-center h-full">
          <p class="overflow-hidden text-lg text-dark-greeny leading-none"></p>
        </div>
        <div class="bg-greeny triangle self-end -mr-4"></div>
      </div>
      <div class="lg:hidden bg-greeny w-40 h-40 px-4 justify-between flex flex-col"> 
        <div class="flex flex-col justify-center h-full">
          <p class="overflow-hidden text-lg text-dark-greeny leading-none"></p>
        </div>
        <div class="bg-greeny triangle self-end -mr-4"></div>
      </div>
      <div class="lg:hidden bg-greeny w-40 h-40 px-4 justify-between flex flex-col"> 
        <div class="flex flex-col justify-center h-full">
          <p class="overflow-hidden text-lg text-dark-greeny leading-none"></p>
        </div>
        <div class="bg-greeny triangle self-end -mr-4"></div>
      </div>
      <div class="lg:hidden bg-greeny w-40 h-40 px-4 justify-between flex flex-col"> 
        <div class="flex flex-col justify-center h-full">
          <p class="overflow-hidden text-lg text-dark-greeny leading-none"></p>
        </div>
        <div class="bg-greeny triangle self-end -mr-4"></div>
      </div>
      <div class="lg:hidden bg-greeny w-40 h-40 px-4 justify-between flex flex-col"> 
        <div class="flex flex-col justify-center h-full">
          <p class="overflow-hidden text-lg text-dark-greeny leading-none"></p>
        </div>
        <div class="bg-greeny triangle self-end -mr-4"></div>
      </div>
      <div class="lg:hidden bg-greeny w-40 h-40 px-4 justify-between flex flex-col"> 
        <div class="flex flex-col justify-center h-full">
          <p class="overflow-hidden text-lg text-dark-greeny leading-none"></p>
        </div>
        <div class="bg-greeny triangle self-end -mr-4"></div>
      </div>
      <div class="lg:hidden bg-greeny w-40 h-40 px-4 justify-between flex flex-col"> 
        <div class="flex flex-col justify-center h-full">
          <p class="overflow-hidden text-lg text-dark-greeny leading-none"></p>
        </div>
        <div class="bg-greeny triangle self-end -mr-4"></div>
      </div>
      <div class="lg:hidden bg-greeny w-40 h-40 px-4 justify-between flex flex-col"> 
        <div class="flex flex-col justify-center h-full">
          <p class="overflow-hidden text-lg text-dark-greeny leading-none"></p>
        </div>
        <div class="bg-greeny triangle self-end -mr-4"></div>
      </div>
    </div>
  </div>
  <div class="mt-24 bg-greeny flex flex-col p-24">
    <div class="flex flex-col">
      <h1 class="text-white text-7xl lg:text-5xl font-bold">How it works</h1>
      <div class="border-solid border-white border-t-8 w-7/12 lg:w-1/4 mt-2"></div>
    </div>
    <div class="flex flex-col lg:flex-row mt-24 h-full justify-between text-white">
      <div class="w-full mb-12 lg:m-0 lg:w-1/4 my-shadow border-solid border-white border-4">
        <div class="bg-white">
          <p class="py-2 px-4 italic text-greeny text-5xl lg:text-2xl font-semibold text-center">STEP #1</p>
        </div>
        <div class="flex justify-center mt-12">
          <span class="material-icons text-9xl">link</span>
        </div>
        <div class="p-4">
          <p class="lg:text-base text-4xl text-white font-bold leading-loose text-center mb-12">Share brainstorm link with your team</p>
        </div>
      </div>
      <div class="w-full mb-12 lg:m-0 lg:w-1/4 my-shadow border-solid border-white border-4">
        <div class="bg-white">
          <p class="py-2 px-4 italic text-greeny text-5xl lg:text-2xl font-semibold text-center">STEP #2</p>
        </div>
        <div class="flex justify-center mt-12">
          <span class="material-icons text-9xl">lightbulb</span>
        </div>
        <div class="p-4">
          <p class="lg:text-base text-4xl text-white leading-loose font-bold text-center mb-12">Come up with as many ideas as you can</p>
        </div>
      </div>
      <div class="w-full lg:w-1/4 my-shadow border-solid border-white border-4">
        <div class="bg-white">
          <p class="py-2 px-4 italic text-greeny text-5xl lg:text-2xl font-semibold text-center">STEP #3</p>
        </div>
        <div class="flex justify-center mt-12">
          <span class="material-icons text-9xl">star</span>
        </div>
        <div class="p-4">
          <p class="lg:text-base text-4xl text-white leading-loose font-bold text-center mb-12">Vote for your favorite ones</p>
        </div>
      </div>
    </div>
  </div>

   <div class="flex flex-col">
    <div class="bg-beigy flex flex-col">
      <div class="bg-white w-full flex flex-col lg:p-24">
        <div class="flex flex-col lg:p-0 p-24">
          <h1 class="text-blurple text-7xl lg:text-5xl font-bold">Plans & Pricing</h1>
          <div class="border-solid border-blurple border-t-8 w-7/12 lg:w-1/3 mt-2"></div>
        </div>
        <div class="pt-10 lg:px-0 px-24">
            <div class="flex flex-col lg:gap-1 gap-10 lg:text-lg text-4xl text-blurple">
            <p class="flex items-center gap-2">Brainstormer runs on love. <i class="lg:text-xl text-4xl material-icons cursor-default text-reddy hover:animate-ping">favorite</i></p>
            <p>But you can expect more by subscribing.</p>
          </div>
        </div>


        <div onclick="togglePaymentInterval()" class="flex flex-row lg:mt-8 mt-20 self-center cursor-pointer lg:text-base text-3xl">
          <p id="billedMonthly" class="underlineSelection uppercase text-blurple px-4 pb-2">Billed Monthly</p>
          <p id="billedYearly" class="uppercase text-blurple px-4 pb-2">Billed yearly</p>
        </div>

        <div class="grid grid-cols-3 grid-flow-row lg:gap-6 gap-2 lg:mt-10 mt-20 mb-20 lg:px-0 px-6">
          <div class="my-shadow-sm text-blurple bg-beigy font-bold py-6 text-center lg:text-lg text-4xl">HOBBYIST</div>
          <div class="my-shadow-sm text-white bg-greeny font-bold py-6 text-center lg:text-lg text-4xl">FACILITATOR</div>
          <div class="my-shadow-sm text-white bg-blurple font-bold py-6 text-center lg:text-lg text-4xl">ORGANIZATION</div>
          <div class="my-shadow-sm text-blurple bg-beigy italic lg:text-lg text-3xl py-4 text-center">Free</div>
          <div id="secondTierPrice" class="my-shadow-sm text-white bg-greeny italic lg:text-lg text-3xl py-4 text-center">$7.99 / month</div>
          <div id="thirdTierPrice" class="my-shadow-sm text-white bg-blurple italic lg:text-lg text-3xl py-4 text-center">$49.99 / month</div>
          <div class="my-shadow-sm text-blurple bg-beigy gap-6 py-4 lg:text-xs text-3xl flex flex-col">
            <div class="flex px-4 items-center">
              <i class="material-icons-outlined lg:text-sm text-3xl pr-2">lightbulb</i>
              <p>Unlimited brainstorms</p>
            </div>
            <div class="flex px-4 items-center">
              <i class="material-icons-outlined lg:text-sm text-3xl pr-2">people</i>
              <p>10 participants</p>
            </div>
            <div class="flex px-4 items-center">
              <i class="material-icons lg:text-sm text-3xl pr-2">star_outline</i>
              <p>Voting</p>
            </div>
            <div class="flex px-4 items-center">
              <i class="material-icons lg:text-sm text-3xl pr-2">key</i>
              <p>Access brainstorms for 2 weeks</p>
            </div>
          </div>
          <div class="my-shadow-sm text-white bg-greeny gap-6 py-4 lg:text-xs text-3xl flex flex-col">
            <div class="flex px-4 items-center">
              <i class="material-icons-outlined lg:text-sm text-3xl pr-2">lightbulb</i>
              <p>Unlimited brainstorms</p>
            </div>
            <div class="flex px-4 items-center">
              <i class="material-icons-outlined lg:text-sm text-3xl pr-2">people</i>
              <p>25 participants</p>
            </div>
            <div class="flex px-4 items-center">
              <i class="material-icons lg:text-sm text-3xl pr-2">star_outline</i>
              <p>Voting</p>
            </div>
            <div class="flex px-4 items-center">
              <i class="material-icons lg:text-sm text-3xl pr-2">key</i>
              <p>Unlimited brainstorm access</p>
            </div>
          </div>
          <div class="my-shadow-sm text-white bg-blurple gap-6 py-4 lg:text-xs text-3xl flex flex-col">
            <div class="flex px-4 items-center">
              <i class="material-icons-outlined lg:text-sm text-3xl pr-2">lightbulb</i>
              <p>Unlimited brainstorms</p>
            </div>
            <div class="flex px-4 items-center">
              <i class="material-icons-outlined lg:text-sm text-3xl pr-2">people</i>
              <p>50 participants</p>
            </div>
            <div class="flex px-4 items-center">
              <i class="material-icons lg:text-sm text-3xl pr-2">star_outline</i>
              <p>Voting</p>
            </div>
            <div class="flex px-4 items-center">
              <i class="material-icons lg:text-sm text-3xl pr-2">key</i>
              <p>Unlimited brainstorm access</p>
            </div>
          </div>
          <div class="row-span-3 border-dotted border-4 border-beigy"></div>
          <div class="my-shadow-sm bg-greeny text-white gap-6 py-4 lg:text-xs text-3xl flex flex-col">
            <div class="flex px-4 items-center">
              <i class="material-icons lg:text-sm text-3xl pr-2">mail_outline</i>
              <p>Email ideas</p>
            </div>
            <div class="flex px-4 items-center">
              <i class="material-icons-outlined lg:text-sm text-3xl pr-2">timer</i>
              <p>Set timer</p>
            </div>
            <div class="flex px-4 items-center">
              <i class="material-icons-outlined lg:text-sm text-3xl pr-2">save</i>
              <p>Save brainstorms</p>
            </div>
            <div class="flex px-4 items-center">
              <i class="material-icons lg:text-sm text-3xl pr-2">file_download</i>
              <p>Export to PDF & CSV</p>
            </div>
          </div>
          <div class="my-shadow-sm bg-blurple text-white gap-6 py-4 lg:text-xs text-3xl flex flex-col">
            <div class="flex px-4 items-center">
              <i class="material-icons lg:text-sm text-3xl pr-2">mail_outline</i>
              <p>Email ideas</p>
            </div>
            <div class="flex px-4 items-center">
              <i class="material-icons-outlined lg:text-sm text-3xl pr-2">timer</i>
              <p>Set timer</p>
            </div>
            <div class="flex px-4 items-center">
              <i class="material-icons-outlined lg:text-sm text-3xl pr-2">save</i>
              <p>Save brainstorms</p>
            </div>
            <div class="flex px-4 items-center">
              <i class="material-icons lg:text-sm text-3xl pr-2">file_download</i>
              <p>Export to PDF & CSV</p>
            </div>
          </div>
          <div class="border-4 border-dotted border-greeny row-span-2"></div>
          <div class="my-shadow-sm bg-blurple text-white gap-6 py-4 lg:text-xs text-3xl flex flex-col">
            <div class="flex px-4 items-center">
              <i class="material-icons-outlined lg:text-sm text-3xl pr-2">lock</i>
              <p>Private brainstorms</p>
            </div>
            <div class="flex px-4 items-center">
              <i class="material-icons-outlined lg:text-sm text-3xl pr-2">headset_mic</i>
              <p>Dedicated customer support</p>
            </div>
            <div class="flex px-4 items-center">
              <i class="material-icons-outlined lg:text-sm text-3xl pr-2">question_answer</i>
              <p>Onboarding</p>
            </div>
          </div>
          <div class="border-dotted border-blurple border-4 h-20"></div>
          <%= link_to new_brainstorm_path do %>
            <button class="hvr-grow lg:p-2 md:p-4 font-semibold bg-beigy active:bg-dark-beigy leading-tight my-shadow-sm w-full">
              <div class="border-solid border-blurple border-2 flex lg:py-0 md:py-4 justify-center">
                <div class="flex text-blurple font-semibold h-full focus:outline-none py-2 text-3xl lg:text-lg uppercase">Try for free</div>
              </div>
            </button>
          <% end %>
          <%= link_to checkouts_path(plan: :monthly), id: "link-to-stripe" do %>
            <button class="hvr-grow lg:p-2 md:p-4 font-semibold bg-greeny active:bg-darker-greeny leading-tight my-shadow-sm w-full">
              <div class="border-solid border-white border-2 flex lg:py-0 md:py-4 justify-center">
                <div class="flex text-white font-semibold h-full focus:outline-none py-2 text-3xl lg:text-lg uppercase">Get started</div>
              </div>
            </button>
          <% end %>
          <%= mail_to "brainstormer.online@gmail.com" do %>
            <button class="hvr-grow lg:p-2 md:p-4 font-semibold bg-blurple active:bg-darker-blurple leading-tight my-shadow-sm w-full">
              <div class="border-solid border-white border-2 flex lg:py-0 md:py-4 justify-center">
                <div class="flex text-white font-semibold h-full focus:outline-none py-2 text-3xl lg:text-lg uppercase">Get in touch</div>
              </div>
            </button>
          <% end %>
        </div>
      </div>
    </div>
  </div>

  <div class="flex flex-row mt-8 mb-8 text-white">
    <div class="flex bg-blurple flex-col mr-0 lg:mr-8 w-full p-24">
      <h2 class="font-bold text-7xl lg:text-5xl leading-tight">HELP SPREAD <br>
        THE WORD</h2>
      <p class="font-bold mt-6 w-auto lg:text-base text-3xl">Do you want to tell others about this tool? Or do you have ideas for improvements? Please don't hold back!</p>
      <div class="flex flex-row mt-16 justify-between">
        <div class="flex flex-row">
          <a href="https://twitter.com/intent/tweet?text=Say%20something%20great%20about%20http%3A//www.brainstormer.online/%20-%20or%20don't%20-%20it's%20completely%20up%20to%20you!">
            <div class="hvr-grow lg:mr-8 mr-12 bg-white my-shadow-dark lg:h-24 lg:w-24 h-32 w-32 p-4">
              <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Twitter" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">
                <path fill="#312783" d="M17.316,6.246c0.008,0.162,0.011,0.326,0.011,0.488c0,4.99-3.797,10.742-10.74,10.742  c-2.133,0-4.116-0.625-5.787-1.697c0.296,0.035,0.596,0.053,0.9,0.053c1.77,0,3.397-0.604,4.688-1.615  c-1.651-0.031-3.046-1.121-3.526-2.621c0.23,0.043,0.467,0.066,0.71,0.066c0.345,0,0.679-0.045,0.995-0.131  C2.84,11.183,1.539,9.658,1.539,7.828c0-0.016,0-0.031,0-0.047c0.509,0.283,1.092,0.453,1.71,0.473  c-1.013-0.678-1.68-1.832-1.68-3.143c0-0.691,0.186-1.34,0.512-1.898C3.942,5.498,6.725,7,9.862,7.158  C9.798,6.881,9.765,6.594,9.765,6.297c0-2.084,1.689-3.773,3.774-3.773c1.086,0,2.067,0.457,2.756,1.191  c0.859-0.17,1.667-0.484,2.397-0.916c-0.282,0.881-0.881,1.621-1.66,2.088c0.764-0.092,1.49-0.293,2.168-0.594  C18.694,5.051,18.054,5.715,17.316,6.246z" />
              </svg>
            </div>
          </a>
          <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A//www.brainstormer.online/">
            <div class="hvr-grow lg:mr-8 mr-12 bg-white my-shadow-dark lg:h-24 lg:w-24 h-32 w-32 p-5">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path fill="#312783" d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z" />
              </svg>
            </div>
          </a>
          <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A//www.brainstormer.online/&title=This%20is%20a%20cool%20tool%20for%20online%20brainstorming!&summary=&source=">
            <div class="hvr-grow lg:mr-8 mr-12 bg-white my-shadow-dark lg:h-24 lg:w-24 h-32 w-32 p-5">
              <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="LinkedIn" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">
                <path fill="#312783" d="M1,6h4v13H1V6z M3,1C1.8,1,1,2,1,3.1C1,4.1,1.8,5,3,5c1.3,0,2-0.9,2-2C5,1.9,4.2,1,3,1z M14.6,6.2  c-2.1,0-3.3,1.2-3.8,2h-0.1l-0.2-1.7H6.9C6.9,7.6,7,8.9,7,10.4V19h4v-7.1c0-0.4,0-0.7,0.1-1c0.3-0.7,0.8-1.6,1.9-1.6  c1.4,0,2,1.2,2,2.8V19h4v-7.4C19,7.9,17.1,6.2,14.6,6.2z" style="&#10;    background-color: red;&#10;" />
              </svg>
            </div>
          </a>
        </div>
        <div>
          <a href="mailto: brainstormer.online@gmail.com">
            <div class="hvr-grow bg-blurple border-4 border-white border-solid my-shadow-dark lg:h-24 lg:w-24 h-32 w-32 p-3">
              <span class="material-icons-sharp lg:text-6xl text-8xl">email</span>
            </div>
          </a>
        </div>
      </div>
    </div>
    <div class="hidden lg:flex flex-col w-1/3 bg-blurple p-8">
      <div class="text-center border-4 border-white border-solid w-full h-full hvr-bounce-to-top hvr-buzz">
        <span class="material-icons text-blurple text-10xl">favorite</span>
        <span class="material-icons text-blurple text-10xl">favorite</span>
        <span class="material-icons text-blurple text-10xl">favorite</span>
      </div>
    </div>
  </div>
  <%= render 'shared/footer' %>
<script>
  function sleep(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
  }

  async function writeTextInPostIts() {
    pTags = document.getElementById("index-post-it-container").getElementsByTagName("p")

    for(i = 0; i < pTags.length; i++) {
      for (x = i*6; x < (i+1)*6; x++ ) {
        pTags[i].parentNode.parentNode.classList.remove("lg:hidden")
        pTags[i].textContent
        await sleep(50);
      }
    }
  }

  writeTextInPostIts()
    
  const togglePaymentInterval = () => {

    //View if it is monthly or yearly
    const billedMonthly = document.getElementById("billedMonthly")         
    const billedYearly = document.getElementById("billedYearly")         
    billedMonthly.classList.toggle("underlineSelection")
    billedYearly.classList.toggle("underlineSelection")

    //Change the prices in the table
    const secondTierPrice = document.getElementById("secondTierPrice")  
    const thirdTierPrice = document.getElementById("thirdTierPrice")

    const secondTierMonthlyPrice = "$7.99 / month"
    const secondTierYearlyPrice = "$19.99 / year"
    const thirdTierMonthlyPrice = "$49.99 / month"
    const thirdTierYearlyPrice = "$99.99 / year"
    
    if (secondTierPrice.innerHTML === secondTierMonthlyPrice) {
      secondTierPrice.innerHTML = secondTierYearlyPrice
    } else {
      secondTierPrice.innerHTML = secondTierMonthlyPrice
    }

    if (thirdTierPrice.innerHTML === thirdTierMonthlyPrice) {
      thirdTierPrice.innerHTML = thirdTierYearlyPrice
    } else {
      thirdTierPrice.innerHTML = thirdTierMonthlyPrice
    }

    //change the parameter in the link to define monthly/yearly

    const url = document.getElementById("link-to-stripe").href
    const urlNoParams = url.split('?')[0]

    const currentParam = url.split('?')[1]
    let newParam = ""

    currentParam === "plan=monthly" ? newParam = "plan=yearly" : newParam = "plan=monthly" 

    const newURL = urlNoParams + "?" + newParam
    
    document.getElementById("link-to-stripe").href = newURL
  }
</script>